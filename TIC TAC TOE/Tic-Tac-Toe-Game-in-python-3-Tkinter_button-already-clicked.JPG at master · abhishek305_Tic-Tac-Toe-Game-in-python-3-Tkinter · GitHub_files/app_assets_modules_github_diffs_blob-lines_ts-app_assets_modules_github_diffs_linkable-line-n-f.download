"use strict";(()=>{var Y=Object.defineProperty;var i=(D,C)=>Y(D,"name",{value:C,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_diffs_blob-lines_ts-app_assets_modules_github_diffs_linkable-line-n-f314c3"],{7679:(D,C,d)=>{d.d(C,{H:()=>u,v:()=>f});var b=d(59753);function f(){const h=document.getElementById("ajax-error-message");h&&(h.hidden=!1)}i(f,"showGlobalError");function u(){const h=document.getElementById("ajax-error-message");h&&(h.hidden=!0)}i(u,"hideGlobalError"),(0,b.on)("deprecatedAjaxError","[data-remote]",function(h){const m=h.detail,{error:L,text:j}=m;h.currentTarget===h.target&&(L==="abort"||L==="canceled"||(/<html/.test(j)?(f(),h.stopImmediatePropagation()):setTimeout(function(){h.defaultPrevented||f()},0)))}),(0,b.on)("deprecatedAjaxSend","[data-remote]",function(){u()}),(0,b.on)("click",".js-ajax-error-dismiss",function(){u()})},33948:(D,C,d)=>{d.d(C,{Z:()=>h});var b=d(7739);const f=[];let u=0;function h(c){(async function(){f.push(c),await b.x,m()})()}i(h,"hashChange"),h.clear=()=>{f.length=u=0};function m(){const c=u;u=f.length,L(f.slice(c),null,window.location.href)}i(m,"runRemainingHandlers");function L(c,p,S){const l=window.location.hash.slice(1),s=l?document.getElementById(l):null,a={oldURL:p,newURL:S,target:s};for(const T of c)T.call(null,a)}i(L,"runHandlers");let j=window.location.href;window.addEventListener("popstate",function(){j=window.location.href}),window.addEventListener("hashchange",function(c){const p=window.location.href;try{L(f,c.oldURL||j,p)}finally{j=p}});let v=null;document.addEventListener("pjax:start",function(){v=window.location.href}),document.addEventListener("pjax:end",function(){L(f,v,window.location.href)})},29790:(D,C,d)=>{d.d(C,{Dw:()=>m,G5:()=>b,M9:()=>j,n6:()=>h});function b(l){const s=l.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(s)if(s.length===1){const a=L(s[0]);return a?Object.freeze({start:a,end:a}):void 0}else if(s.length===2){const a=L(s[0]),T=L(s[1]);return!a||!T?void 0:p(Object.freeze({start:a,end:T}))}else return;else return}i(b,"parseBlobRange");function f(l){const{start:s,end:a}=p(l);return s.column!=null&&a.column!=null?`L${s.line}C${s.column}-L${a.line}C${a.column}`:s.line===a.line?`L${s.line}`:`L${s.line}-L${a.line}`}i(f,"formatBlobRange");function u(l){const s=l.match(/(file-.+?-)L\d+?/i);return s?s[1]:""}i(u,"parseAnchorPrefix");function h(l){const s=b(l),a=u(l);return{blobRange:s,anchorPrefix:a}}i(h,"parseFileAnchor");function m({anchorPrefix:l,blobRange:s}){return s?`#${l}${f(s)}`:"#"}i(m,"formatBlobRangeAnchor");function L(l){const s=l.match(/L(\d+)/),a=l.match(/C(\d+)/);return s?Object.freeze({line:parseInt(s[1]),column:a?parseInt(a[1]):null}):null}i(L,"parseBlobOffset");function j(l,s){const[a,T]=v(l.start,!0,s),[A,M]=v(l.end,!1,s);if(!a||!A)return;let O=T,k=M;if(O===-1&&(O=0),k===-1&&(k=A.childNodes.length),!a.ownerDocument)throw new Error("DOMRange needs to be inside document");const P=a.ownerDocument.createRange();return P.setStart(a,O),P.setEnd(A,k),P}i(j,"DOMRangeFromBlob");function v(l,s,a){const T=[null,0],A=a(l.line);if(!A)return T;if(l.column==null)return[A,-1];let M=l.column-1;const O=c(A);for(let k=0;k<O.length;k++){const P=O[k],B=M-(P.textContent||"").length;if(B===0){const N=O[k+1];return s&&N?[N,0]:[P,M]}else if(B<0)return[P,M];M=B}return T}i(v,"findRangeOffset");function c(l){if(l.nodeType===Node.TEXT_NODE)return[l];if(!l.childNodes||!l.childNodes.length)return[];let s=[];for(const a of l.childNodes)s=s.concat(c(a));return s}i(c,"getAllTextNodes");function p(l){const s=[l.start,l.end];return s.sort(S),s[0]===l.start&&s[1]===l.end?l:Object.freeze({start:s[0],end:s[1]})}i(p,"ascendingBlobRange");function S(l,s){return l.line===s.line&&l.column===s.column?0:l.line===s.line&&typeof l.column=="number"&&typeof s.column=="number"?l.column-s.column:l.line-s.line}i(S,"compareBlobOffsets")},80193:(D,C,d)=>{var b=d(29790),f=d(76745),u=d(69567),h=d(33948),m=d(64463),L=d(59753),j=d(30481),v=d(19218);let c=!1;function p(o,e){return document.querySelector(`#${o}LC${e}`)}i(p,"queryLineElement");function S({blobRange:o,anchorPrefix:e}){if(document.querySelectorAll(".js-file-line").length!==0&&(l(),!!o)){if(o.start.column===null||o.end.column===null)for(let n=o.start.line;n<=o.end.line;n+=1){const r=p(e,n);r&&r.classList.add("highlighted")}else if(o.start.line===o.end.line&&o.start.column!=null&&o.end.column!=null){const n=(0,b.M9)(o,r=>p(e,r));if(n){const r=document.createElement("span");r.classList.add("highlighted"),(0,v.v)(n,r)}}}}i(S,"highlightLines");function l(){for(const o of document.querySelectorAll(".js-file-line.highlighted"))o.classList.remove("highlighted");for(const o of document.querySelectorAll(".js-file-line .highlighted")){const e=o.closest(".js-file-line");o.replaceWith(...o.childNodes),e.normalize()}}i(l,"clearHighlights");function s(){const o=(0,b.n6)(window.location.hash);S(o),k();const{blobRange:e,anchorPrefix:t}=o,n=e&&p(t,e.start.line);if(!c&&n){n.scrollIntoView();const r=n.closest(".blob-wrapper, .js-blob-wrapper");r.scrollLeft=0}c=!1}i(s,"scrollLinesIntoView"),(0,h.Z)(function(){if(document.querySelector(".js-file-line-container")){setTimeout(s,0);const o=window.location.hash;for(const e of document.querySelectorAll(".js-update-url-with-hash"))if(e instanceof HTMLAnchorElement)e.hash=o;else if(e instanceof HTMLFormElement){const t=new URL(e.action,window.location.origin);t.hash=o,e.action=t.toString()}}});function a(o){const e=[];for(const n of o)e.push(n.textContent);const t=document.getElementById("js-copy-lines");if(t instanceof f.Z){t.textContent=`Copy ${o.length===1?"line":"lines"}`,t.value=e.join(`
`);const n=`Blob, copyLines, numLines:${o.length.toString()}`;t.setAttribute("data-ga-click",n)}}i(a,"setCopyLines");function T(o){const e=document.querySelector(".js-permalink-shortcut");if(e instanceof HTMLAnchorElement){const t=`${e.href}${window.location.hash}`,n=document.getElementById("js-copy-permalink");if(n instanceof f.Z){n.value=t;const r=`Blob, copyPermalink, numLines:${o.toString()}`;n.setAttribute("data-ga-click",r)}return t}}i(T,"setPermalink");function A(o,e){const t=document.getElementById("js-new-issue");if(t instanceof HTMLAnchorElement){if(!t.href)return;const n=new URL(t.href,window.location.origin),r=new URLSearchParams(n.search);r.set("permalink",o),n.search=r.toString(),t.href=n.toString(),t.setAttribute("data-ga-click",`Blob, newIssue, numLines:${e.toString()}`)}}i(A,"setOpenIssueLink");function M(o,e){const t=document.getElementById("js-new-discussion");if(!(t instanceof HTMLAnchorElement)||!t?.href)return;const n=new URL(t.href,window.location.origin),r=new URLSearchParams(n.search);r.set("permalink",o),n.search=r.toString(),t.href=n.toString(),t.setAttribute("data-ga-click",`Blob, newDiscussion, numLines:${e.toString()}`)}i(M,"setOpenDiscussionLink");function O(o){const e=document.getElementById("js-view-git-blame");!e||e.setAttribute("data-ga-click",`Blob, viewGitBlame, numLines:${o.toString()}`)}i(O,"setViewGitBlame");function k(){const o=document.querySelector(".js-file-line-actions");if(!o)return;const e=document.querySelectorAll(".js-file-line.highlighted"),t=e[0];if(t){a(e),O(e.length);const n=T(e.length);n&&A(n,e.length),n&&M(n,e.length),o.style.top=`${t.offsetTop-2}px`,o.classList.remove("d-none")}else o.classList.add("d-none")}i(k,"showOrHideLineActions");function P(o){const e=window.scrollY;c=!0,o(),window.scrollTo(0,e)}i(P,"preserveLineNumberScrollPosition"),(0,L.on)("click",".js-line-number",function(o){const e=(0,b.n6)(o.currentTarget.id),{blobRange:t}=e,n=(0,b.G5)(window.location.hash);n&&o.shiftKey&&(e.blobRange={start:n.start,end:t.end}),P(()=>{window.location.hash=(0,b.Dw)(e)})}),(0,L.on)("submit",".js-jump-to-line-form",function(o){const n=o.currentTarget.querySelector(".js-jump-to-line-field").value.replace(/[^\d-]/g,"").split("-").map(r=>parseInt(r,10)).filter(r=>r>0).sort((r,_)=>r-_);n.length&&(window.location.hash=`L${n.join("-L")}`),o.preventDefault()}),(0,m.N7)(".js-check-bidi",F);const B=/[\u202A-\u202E]|[\u2066-\u2069]/,N={"\u202A":"U+202A","\u202B":"U+202B","\u202C":"U+202C","\u202D":"U+202D","\u202E":"U+202E","\u2066":"U+2066","\u2067":"U+2067","\u2068":"U+2068","\u2069":"U+2069"};function U(o,e){if(o.nodeType===Node.TEXT_NODE)return $(o,e);if(!o.childNodes||!o.childNodes.length)return!1;let t=!1;for(const n of o.childNodes)if(t||(t=U(n,e)),t&&!e)break;return t}i(U,"checkNodeForBidiCharacters");function $(o,e){let t=!1;if(o.nodeValue)for(let n=o.nodeValue.length-1;n>=0;n--){const r=o.nodeValue.charAt(n);if(N[r]){if(t=!0,!e)break;const _=new u.R(e,{revealedCharacter:N[r]}),g=new Range;g.setStart(o,n),g.setEnd(o,n+1),g.deleteContents(),g.insertNode(_)}}return t}i($,"checkTextNodeForBidiCharacters");function F(o){let e=!1;const t=performance.now(),n=o.textContent||"";if(B.test(n)){const g=o.querySelectorAll(".diff-table .blob-code-inner, .js-file-line-container .js-file-line, .js-suggested-changes-blob .blob-code-inner"),E=document.querySelector(".js-line-alert-template"),w=document.querySelector(".js-revealed-character-template");for(const y of g)if(U(y,w)&&(e=!0,E)){const x=new u.R(E,{});o.getAttribute("data-line-alert")==="before"?y.before(x):y.after(x)}}const _={durationMs:(performance.now()-t).toString(),result:e.toString()};if((0,j.q)("blob_js_check_bidi_character",_),e){const g=document.querySelector(".js-file-alert-template");if(g){const E=new URL(window.location.href,window.location.origin);E.searchParams.get("h")==="1"?E.searchParams.delete("h"):E.searchParams.set("h","1");const w=new u.R(g,{revealButtonHref:E.href});o.prepend(w)}}o.classList.remove("js-check-bidi")}i(F,"alertOnBidiCharacter");class R{constructor(e,t){this.lineElement=e,this.numberElement=t}range(e,t){e=isNaN(e)?0:e,t=isNaN(t)?0:t;let n=null,r=0,_=0;for(const[E,w]of this.lineElement.childNodes.entries()){const y=(w.textContent||"").length;if(y>e&&!n&&(n=w,r=E),y>=t){_=E;break}e-=y,t-=y}const g=document.createRange();if(r===_){for(;n&&n.nodeName!=="#text";)n=n.childNodes[0];if(!n)return null;g.setStart(n,e),g.setEnd(n,t)}else g.setStart(this.lineElement,r),g.setEnd(this.lineElement,_+1);return g}}i(R,"CodeListingLine");class K{constructor(e){this.container=e}findLine(e){if(!e)return null;const t=this.container.querySelector(`.js-blob-rnum[data-line-number='${e}']`);if(!t)return null;let n=t.nextElementSibling;return!n||!n.classList.contains("js-file-line")?null:(n=n.querySelector(".js-code-nav-pass")||n,new R(n,t))}}i(K,"CodeListing");const W=new WeakMap;function I(o){if(!o)return;const e=o.closest(".js-blob-code-container, .js-file-content"),t=o.querySelector(".js-codeowners-error-tooltip-template"),n=o.querySelector(".js-codeowners-error-line-alert-template");if(!e||!t||!n||e.querySelector("deferred-diff-lines")?.isAwaitingHighlight())return;const _=o.querySelectorAll(".js-codeowners-error"),g=new K(e);for(const E of _){if(W.get(E))continue;const w=E.getAttribute("data-line"),y=E.getAttribute("data-kind"),x=E.getAttribute("data-suggestion"),H=parseInt(E.getAttribute("data-start-offset")||"",10),q=parseInt(E.getAttribute("data-end-offset")||"",10),V=g.findLine(w),z=V?.range(H,q);if(!V||!z)continue;let G=y;x&&(G+=`: ${x}`);const Z=document.createElement("SPAN");Z.className="error-highlight",z.surroundContents(Z);const X=new u.R(t,{message:G}).firstElementChild;z.surroundContents(X);const J=new u.R(n,{});V.numberElement.appendChild(J),W.set(E,!0)}}i(I,"annotateCodeownersErrors"),(0,m.N7)(".js-codeowners-errors",I),(0,L.on)("expander:expanded",".js-file",function(o){if(!o.target||!(o.target instanceof HTMLElement))return;const e=o.target.querySelector(".js-codeowners-errors");I(e)}),(0,L.on)("deferred-highlight:applied","deferred-diff-lines",function(o){if(!o.target||!(o.target instanceof HTMLElement))return;const t=o.target.closest(".js-file")?.querySelector(".js-codeowners-errors");I(t)})},48027:(D,C,d)=>{d.d(C,{s:()=>b});function b(f){const u=f.match(/^#?(diff-[a-f0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);if(u!=null&&u.length===6)return u;const h=f.match(/^#?(discussion-diff-[0-9]+)(L|R)(\d+)(?:-(L|R)(\d+))?$/i);return h!=null&&h.length===6?h:null}i(b,"matchHash")},68957:(D,C,d)=>{d.d(C,{MO:()=>M,vu:()=>s,Oz:()=>T});var b=d(61161);class f{constructor(t,n,r){this.diffId=t,this.side=n,this.lineNumber=r,this.element=(0,b.Q)(document,this.anchor())}sideForCommenting(){return this.element&&this.element.classList.contains("blob-num-context")?"right":{R:"right",L:"left"}[this.side]}isContext(){return this.element?this.element.classList.contains("blob-num-context"):!1}anchor(){return`${this.diffId}${this.anchorSuffix()}`}anchorSuffix(){return`${this.side}${this.lineNumber}`}is(t){return this.diffId===t.diffId&&this.side===t.side&&this.lineNumber===t.lineNumber}}i(f,"DiffPosition");class u{constructor(t,n,r,_,g){this.elements=new Set,this.isParsed=!1,this.isSplit=!1,this._rows=new Set,this._isAcrossHunks=!1,this._isContextOnly=!0,this._includesExpandedLine=!1,this._commentOutsideTheDiff=!1,this.diffId=t,this.diffTable=document.querySelector(`.js-diff-table[data-diff-anchor="${t}"]`),this.diffTable&&(this.isSplit=this.diffTable.classList.contains("js-file-diff-split")),this.start=new f(t,n,r),this.end=new f(t,_,g),this.lineCount=0,this.parse()}anchor(){const t=[];return t.push(this.start.anchor()),this.start.is(this.end)||t.push(this.end.anchorSuffix()),t.join("-")}parse(){if(!this.diffTable)return;let t=this.unify(this.diffTable.querySelectorAll(".js-linkable-line-number"));t=this.filterInRange(t),this.lineCount=t.length,this.elements=this.expandRelatedElements(t),this._commentOutsideTheDiff=this.diffTable.classList.contains("js-comment-outside-the-diff"),this.isParsed=!0}unify(t){if(!this.isSplit)return Array.from(t);const n=[];let r=[],_=[];for(const g of t)g.classList.contains("blob-num-addition")?r.push(g):g.classList.contains("blob-num-deletion")?_.push(g):(n.push(..._,...r,g),r=[],_=[]);return n.push(..._,...r),n}filterInRange(t){if(!this.start.element||!this.end.element)return[];let n=t.indexOf(this.start.element),r=t.indexOf(this.end.element);if(n>r){[n,r]=[r,n];const[_,g]=[this.end,this.start];this.start=_,this.end=g}return t.slice(n,r+1)}isContextOnly(){return this.isParsed||this.parse(),this._isContextOnly}isAcrossHunks(){return this.isParsed||this.parse(),this._isAcrossHunks}includesExpandedLine(){return this.isParsed||this.parse(),this._includesExpandedLine}commentOutsideTheDiffEnabled(){return this.isParsed||this.parse(),this._commentOutsideTheDiff}rows(){return this.isParsed||this.parse(),this._rows}expandRelatedElements(t){const n=this.isSplit,r=t[0],_=t[t.length-1];if(r&&_){const E=r.closest("[data-hunk]"),w=_.closest("[data-hunk]");if(E&&w){const y=E.getAttribute("data-hunk"),x=w.getAttribute("data-hunk");y!==x&&(this._isAcrossHunks=!0)}}const g=i((E,w)=>{!this._includesExpandedLine&&w.closest(".blob-expanded")&&(this._includesExpandedLine=!0);const y=w.parentElement;y instanceof HTMLElement&&this._rows.add(y);const x=w.classList.contains("blob-num-deletion")||w.classList.contains("blob-num-addition");if(x&&(this._isContextOnly=!1),!y)return E;if(n&&x)return Array.from(y.children).indexOf(w)<2?E.add(y.children[0]).add(y.children[1]):E.add(y.children[2]).add(y.children[3]);for(const H of Array.from(y.children))E.add(H);return E},"expander");return t.reduce(g,new Set)}}i(u,"DiffRange");var h=d(33948),m=d(48027),L=d(64463),j=d(59753),v=d(53692);let c=null,p=null,S=!1,l=null;function s(){return c}i(s,"getCurrentRange");function a(e){return!!e.closest(".js-multi-line-comments-enabled")}i(a,"isMultiLineCommentingEnabled");function T(e,t){if(!a(e))return!1;const{start:{lineNumber:n},end:{lineNumber:r}}=t;return!(n===r&&t.isContextOnly()||!t.commentOutsideTheDiffEnabled()&&(t.isAcrossHunks()||t.includesExpandedLine()))}i(T,"isMultiLineCommentAllowed");function A(e){return e.closest(".js-diff-table").classList.contains("is-selecting")}i(A,"isSelecting");function M(){window.history.replaceState(null,"","#"),I()}i(M,"clearSelection");function O(e,t){let n=e.id;if(t){const r=(0,m.s)(n);if(!r)return;const _=r[1],g=r[2],E=r[3];if(c&&c.diffId===_){if(g===c.start.side&&E<c.start.lineNumber)return;const w=new u(_,c.start.side,c.start.lineNumber,g,+E);n=w.anchor();const y=e.closest(".js-file-content[data-hydro-view]");y instanceof HTMLElement&&o(y,w),S&&A(e)&&e.closest(".js-diff-table").classList.toggle("is-commenting",T(e,w)),p=i(function(){if(T(e,w)){const H=`.js-add-line-comment[data-side="${w.end.sideForCommenting()}"]`,q=e.closest("tr").querySelector(H);q&&w&&q.click()}},"showMultiLineCommentForm")}}window.history.replaceState(null,"",`#${n}`),I()}i(O,"setSelection");function k(e){if(!(e instanceof HTMLElement))return null;if(e.classList.contains("js-linkable-line-number"))return e;const t=e.previousElementSibling;return t?k(t):null}i(k,"nearestLinkableLineNumber");function P(e){!c||e.target.closest(".js-diff-table")||(window.history.replaceState(null,"","#"),I())}i(P,"handleClick");function B(){if(!l)return;O(l,!1);const e=l.closest(".js-diff-table");l=null,e.classList.add("is-selecting"),e.classList.add("is-commenting"),document.addEventListener("mouseup",function(t){e.classList.remove("is-selecting"),e.classList.remove("is-selecting","is-commenting"),p&&p(),p=null,R(e),t.preventDefault()},{once:!0})}i(B,"beginDrag");function N(e){const t=k(e);!t||!A(t)||O(t,!0)}i(N,"commentSelectionMouseverToCode");function U(e){!A(e)||O(e,!0)}i(U,"commentSelectionMouseverToLineNumbers");function $(e){const t=e.target;if(!(t instanceof Element))return;l&&B();const n=t.closest(".blob-code, .js-linkable-line-number");if(!!n){if(n.classList.contains("blob-code"))return N(n);n.classList.contains("js-linkable-line-number")&&U(n)}}i($,"handleDragMouseEvent");function F(e){e.addEventListener("mouseenter",$,{capture:!0})}i(F,"addCommentSelectionEvents");function R(e){S=!1,e.removeEventListener("mouseenter",$,{capture:!0}),setTimeout(()=>{document.addEventListener("click",P,{once:!0})},0)}i(R,"removeCommentSelectionEvents"),(0,j.on)("mousedown",".js-add-line-comment",function(e){if(!(e instanceof MouseEvent)||e.button!==0)return;const t=e.target.parentElement;if(!t||!a(e.target))return;const n=k(t);if(!n)return;const r=e.target.closest(".js-diff-table");F(r),l=n,S=!0,e.target.addEventListener("mouseup",function(){R(r),l=null,S=!1},{once:!0}),c&&c.lineCount>1&&e.preventDefault()}),(0,j.on)("mousedown",".js-linkable-line-number",function(e){if(!(e instanceof MouseEvent)||e.button!==0)return;const t=e.target;if(!(t instanceof Element))return;const n=t.closest(".js-diff-table");n.classList.add("is-selecting"),F(n),document.addEventListener("mouseup",function(){t.closest(".js-diff-table").classList.remove("is-selecting"),R(n)},{once:!0}),O(t,e instanceof MouseEvent&&e.shiftKey),e.preventDefault()});function K(){if(!c)return;for(const g of c.elements)g.classList.add("selected-line");const e=[],t=[],n=[],r=[];for(const g of c.rows()){const[E,w,y,x]=g.children;e.push(E),t.push(w),n.push(y),r.push(x)}function _(g){for(const[E,w]of g.entries()){if(w.classList.contains("empty-cell"))continue;const y=g[E-1];(!y||!y.classList.contains("selected-line"))&&w.classList.add("selected-line-top");const x=g[E+1];(!x||!x.classList.contains("selected-line"))&&w.classList.add("selected-line-bottom")}}i(_,"doBorder"),_(e),_(t),_(n),_(r);for(const[g,E]of t.entries())r[g].classList.contains("selected-line")||E.classList.add("selected-line-right");for(const[g,E]of n.entries())t[g].classList.contains("selected-line")||E.classList.add("selected-line-left")}i(K,"drawBorderForSplit");function W(){if(!c)return;for(const r of c.elements)r.classList.add("selected-line");const e=Array.from(c.rows()),t=e[0];for(const r of t.children)r.classList.add("selected-line-top");const n=e[e.length-1];for(const r of n.children)r.classList.add("selected-line-bottom")}i(W,"drawBorderForUnified");function I(){if(c){for(const y of c.elements)y.classList.remove("selected-line","selected-line-top","selected-line-bottom","selected-line-left","selected-line-right");c=null}const e=(0,m.s)(window.location.hash);if(!e)return;const t=e[1],n=e[2],r=e[3],_=e[4]||n,g=e[5]||r;c=new u(t,n,+r,_,+g);const w=Array.from(c.elements)[0];!w||(w.closest(".js-diff-table").classList.contains("file-diff-split")?K():W())}i(I,"showHighlight");function o(e,t){const n={starting_diff_position:t.start.side+t.start.lineNumber,ending_diff_position:t.end.side+t.end.lineNumber,line_count:t.lineCount};e.setAttribute("data-hydro-client-context",JSON.stringify(n)),(0,v.Fk)(e)}i(o,"sendHydroEvent"),(0,h.Z)(I),(0,L.N7)(".blob-expanded",I),(0,L.N7)(".js-diff-progressive-loader",function(e){e.addEventListener("load",I)}),(0,L.N7)(".js-diff-entry-loader",function(e){e.addEventListener("load",I)})},81431:(D,C,d)=>{var b=d(59753);(0,b.on)("click",".js-rich-diff.collapsed .js-expandable",function(f){if(!(f.target instanceof Element))return;f.preventDefault(),f.target.closest(".js-rich-diff").classList.remove("collapsed")}),(0,b.on)("click",".js-show-rich-diff",function(f){const u=f.currentTarget.closest(".js-warn-no-visible-changes");if(!u)return;u.classList.add("d-none");const m=u.parentElement.querySelector(".js-no-rich-changes");m&&m.classList.remove("d-none")})},56238:(D,C,d)=>{d.d(C,{Bt:()=>m,DN:()=>v,KL:()=>S,Se:()=>j,qC:()=>l,sw:()=>c});var b=d(59753),f=d(2061),u=d(7679);(0,b.on)("click",".js-remote-submit-button",async function(s){const T=s.currentTarget.form;s.preventDefault();let A;try{A=await fetch(T.action,{method:T.method,body:new FormData(T),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}A&&!A.ok&&(0,u.v)()});function h(s,a,T){return s.dispatchEvent(new CustomEvent(a,{bubbles:!0,cancelable:T}))}i(h,"fire");function m(s,a){a&&(L(s,a),(0,f.j)(a)),h(s,"submit",!0)&&s.submit()}i(m,"requestSubmit");function L(s,a){if(!(s instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(a instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if(a.type!=="submit")throw new TypeError("The specified element is not a submit button.");if(!s||s!==a.form)throw new Error("The specified element is not owned by the form element.")}i(L,"checkButtonValidity");function j(s,a){if(typeof a=="boolean")if(s instanceof HTMLInputElement)s.checked=a;else throw new TypeError("only checkboxes can be set to boolean value");else{if(s.type==="checkbox")throw new TypeError("checkbox can't be set to string value");s.value=a}h(s,"change",!1)}i(j,"changeValue");function v(s,a){for(const T in a){const A=a[T],M=s.elements.namedItem(T);(M instanceof HTMLInputElement||M instanceof HTMLTextAreaElement)&&(M.value=A)}}i(v,"fillFormValues");function c(s){if(!(s instanceof HTMLElement))return!1;const a=s.nodeName.toLowerCase(),T=(s.getAttribute("type")||"").toLowerCase();return a==="select"||a==="textarea"||a==="input"&&T!=="submit"&&T!=="reset"||s.isContentEditable}i(c,"isFormField");function p(s){return new URLSearchParams(s)}i(p,"searchParamsFromFormData");function S(s,a){const T=new URLSearchParams(s.search),A=p(a);for(const[M,O]of A)T.append(M,O);return T.toString()}i(S,"combineGetFormSearchParams");function l(s){return p(new FormData(s)).toString()}i(l,"serialize")},30481:(D,C,d)=>{d.d(C,{Y:()=>j,q:()=>v});var b=d(88149),f=d(86058);const u="dimension_";let h;const m=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{const c=(0,b.n)("octolytics");delete c.baseContext,h=new f.R(c)}catch{}function L(c){const p=(0,b.n)("octolytics").baseContext||{};if(p){delete p.app_id,delete p.event_url,delete p.host;for(const s in p)s.startsWith(u)&&(p[s.replace(u,"")]=p[s],delete p[s])}const S=document.querySelector("meta[name=visitor-payload]");if(S){const s=JSON.parse(atob(S.content));Object.assign(p,s)}const l=new URLSearchParams(window.location.search);for(const[s,a]of l)m.includes(s.toLowerCase())&&(p[s]=a);return Object.assign(p,c)}i(L,"extendBaseContext");function j(c){h?.sendPageView(L(c))}i(j,"sendPageView");function v(c,p){const S=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,l=S?{service:S}:{};for(const[s,a]of Object.entries(p))a!=null&&(l[s]=`${a}`);h?.sendEvent(c||"unknown",L(l))}i(v,"sendEvent")},53692:(D,C,d)=>{d.d(C,{$S:()=>f,Fk:()=>u,sz:()=>h});var b=d(45922);function f(m,L,j){const v={hydroEventPayload:m,hydroEventHmac:L,visitorPayload:"",visitorHmac:"",hydroClientContext:j},c=document.querySelector("meta[name=visitor-payload]");c instanceof HTMLMetaElement&&(v.visitorPayload=c.content);const p=document.querySelector("meta[name=visitor-hmac]")||"";p instanceof HTMLMetaElement&&(v.visitorHmac=p.content),(0,b.b)(v,!0)}i(f,"sendData");function u(m){const L=m.getAttribute("data-hydro-view")||"",j=m.getAttribute("data-hydro-view-hmac")||"",v=m.getAttribute("data-hydro-client-context")||"";f(L,j,v)}i(u,"trackView");function h(m){const L=m.getAttribute("data-hydro-click-payload")||"",j=m.getAttribute("data-hydro-click-hmac")||"",v=m.getAttribute("data-hydro-client-context")||"";f(L,j,v)}i(h,"sendHydroEvent")},45075:(D,C,d)=>{d.d(C,{ZG:()=>m,q6:()=>j,w4:()=>L});var b=d(8439);let f=!1;const u=new b.Z;function h(v){const c=v.target;if(c instanceof HTMLElement&&c.nodeType!==Node.DOCUMENT_NODE)for(const p of u.matches(c))p.data.call(null,c)}i(h,"handleFocus");function m(v,c){f||(f=!0,document.addEventListener("focus",h,!0)),u.add(v,c),document.activeElement instanceof HTMLElement&&document.activeElement.matches(v)&&c(document.activeElement)}i(m,"onFocus");function L(v,c,p){function S(l){const s=l.currentTarget;!s||(s.removeEventListener(v,p),s.removeEventListener("blur",S))}i(S,"blurHandler"),m(c,function(l){l.addEventListener(v,p),l.addEventListener("blur",S)})}i(L,"onKey");function j(v,c){function p(S){const{currentTarget:l}=S;!l||(l.removeEventListener("input",c),l.removeEventListener("blur",p))}i(p,"blurHandler"),m(v,function(S){S.addEventListener("input",c),S.addEventListener("blur",p)})}i(j,"onInput")},19218:(D,C,d)=>{d.d(C,{v:()=>b});function b(f,u){u.appendChild(f.extractContents()),f.insertNode(u)}i(b,"surroundContents")},2061:(D,C,d)=>{d.d(C,{j:()=>b,u:()=>f});function b(u){const h=u.closest("form");if(!(h instanceof HTMLFormElement))return;let m=f(h);if(u.name){const L=u.matches("input[type=submit]")?"Submit":"",j=u.value||L;m||(m=document.createElement("input"),m.type="hidden",m.classList.add("is-submit-button-value"),h.prepend(m)),m.name=u.name,m.value=j}else m&&m.remove()}i(b,"persistSubmitButtonValue");function f(u){const h=u.querySelector("input.is-submit-button-value");return h instanceof HTMLInputElement?h:null}i(f,"findPersistedSubmitButtonValue")},6741:(D,C,d)=>{d.d(C,{RB:()=>f,qC:()=>u,w0:()=>b});class b{constructor(m){this.closed=!1,this.unsubscribe=()=>{m(),this.closed=!0}}}i(b,"Subscription");function f(h,m,L,j={capture:!1}){return h.addEventListener(m,L,j),new b(()=>{h.removeEventListener(m,L,j)})}i(f,"fromEvent");function u(...h){return new b(()=>{for(const m of h)m.unsubscribe()})}i(u,"compose")},5878:(D,C,d)=>{d.d(C,{Z:()=>f});function b(u){return u.offsetWidth<=0&&u.offsetHeight<=0}i(b,"hidden");function f(u){return!b(u)}i(f,"visible")}}]);})();

//# sourceMappingURL=app_assets_modules_github_diffs_blob-lines_ts-app_assets_modules_github_diffs_linkable-line-n-f314c3-70206aaf291e.js.map